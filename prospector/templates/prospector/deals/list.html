{% extends 'base.html' %}

{% load macros %}
{% load filters %}
{% load prospector_filters %}
{% loadmacros 'cooltable.html' %}

{% block title %}Liste des deals{% endblock %}
{% block subtitle %}Les fois où un contact veut un stand{% endblock %}
{% block active_menu %}deals{% endblock %}

{% block content %}
Clarifier si les coches sont bien ou pas avec du vert/rouge
<div class="container">
    <div class="columns">
        <div class="col-12">
            <cooltable>
                <rows>
                    {% for d in qs.rows %}
                    <r>
                        {% url 'prospector:deals.edit' pk=d.pk as edit_url %}
                        <d><a href="{% url 'prospector:deals.show' pk=d.pk %}">{{d.booth_name}}</a></d>
                        <d>{{d.event.name}}</d>
                        <d>{{d.type | title}}</d>
                        <d>{{d.get_price_display}}</d>
                        <d>{{d.get_boothspaces_usual_price_display | oredit:edit_url}}</d>
                        <d>{{d.is_floating | checkorcross}}</d>
                        <d>{{d.is_finalized | checkorcross}}</d>
                        <d>
                            <div>
                                <a href="{{edit_url}}" class="btn btn-sm float-right">Éditer</a>
                            </div>
                        </d>
                    </r>
                    {% endfor %}
                </rows>
            </cooltable>
        </div>
    </div>
</div>

<div class="mt-2">
    <button class="btn btn-success">Créer</button>
</div>
{% endblock %}

{% block js %}
<script>
    var t = new NiceTable($('cooltable'), ['Nom', 'Événement', 'Type', 'Prix', 'Emplacement', 'Flottant', 'Finalisé', '']);
</script>
{% endblock %}
