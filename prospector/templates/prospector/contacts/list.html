{% extends 'base.html' %}

{% load macros %}
{% load filters %}
{% load prospector_filters %}
{% loadmacros 'cooltable.html' %}

{% block title %}Liste des contacts{% endblock %}
{% block subtitle %}Les gens qui veulent des stands{% endblock %}
{% block active_menu %}contacts{% endblock %}

{% block content %}
<div class="container">
    <div class="columns">
        <div class="col-12">
            <cooltable>
                <rows>
                    {% for c in qs.rows %}
                        <r>
                            {% url 'prospector:contacts.edit' pk=d.pk as edit_url %}
                            <d><a href="{% url 'prospector:contacts.show' pk=c.pk %}">{{c.person_name | oredit:edit_url}}</a></d>
                            <d>{{c.email_address | oredit:edit_url}}</d>
                            <d><span class="text-small">{{c.private_description | linebreaksbr | orcross}}</span></d>
                            <d>
                                <div>
                                    <button class="btn btn-sm float-right">Éditer</button>
                                </div>
                            </d>
                        </r>
                    {% endfor %}
                </rows>
            </cooltable>
        </div>
    </div>
</div>
<div class="mt-2">
    <button class="btn btn-success">Créer</button>
</div>
{% endblock %}

{% block js %}
<script>
    var t = new NiceTable($('cooltable'), ['Personne', 'Email', 'Description', '']);
</script>
{% endblock %}
